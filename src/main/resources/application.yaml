spring:
  application:
    name: user-service
  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://postgres:5432/users}
    username: ${SPRING_DATASOURCE_USERNAME:app}
    password: ${SPRING_DATASOURCE_PASSWORD:app}
    driver-class-name: org.postgresql.Driver
  flyway:
    enabled: true
    locations: classpath:db/migration
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: ${KEYCLOAK_BASE_URL:http://keycloak:8080}/realms/${KEYCLOAK_REALM:ecommerce}
server:
  port: 8081
  error:
    include-message: always
    include-binding-errors: always
    include-exception: true
    include-stacktrace: always
app:
  keycloak:
    base-url: ${KEYCLOAK_BASE_URL:http://keycloak:8080}
    realm: ${KEYCLOAK_REALM:ecommerce}
    token-path: /realms/{realm}/protocol/openid-connect/token
    logout-path: /realms/{realm}/protocol/openid-connect/logout
    admin-base-path: /admin/realms/{realm}
    login-client-id: user-service-login
    login-client-secret: ${APP_KEYCLOAK_LOGIN_CLIENT_SECRET}
    admin-client-id: user-service
    admin-client-secret: ${APP_KEYCLOAK_ADMIN_CLIENT_SECRET}
logging:
  level:
    root: INFO
    org:
      springframework:
        security: DEBUG
    org.hibernate:
      SQL: DEBUG
    org.hibernate.orm.jdbc.bind: TRACE
    com:
      mazasoft:
        ecommerce:
          userservice: INFO
management:
  info:
    env:
      enabled: true
  endpoints:
    web:
      base-path: /actuator
      exposure:
        include: health,info,beans
    jackson:
      isolated-object-mapper:false
